
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../challenges/">
      
      
        <link rel="next" href="../bill-of-materials/">
      
      
      <link rel="icon" href="../assets/pokeball.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.14">
    
    
      
        <title>Future Work - Pokémini Go</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.342714a4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#future-work" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Pokémini Go" class="md-header__button md-logo" aria-label="Pokémini Go" data-md-component="logo">
      
  <img src="../assets/pokeball.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Pokémini Go
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Future Work
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Pokémini Go" class="md-nav__button md-logo" aria-label="Pokémini Go" data-md-component="logo">
      
  <img src="../assets/pokeball.png" alt="logo">

    </a>
    Pokémini Go
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../description/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Description
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../design/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Design
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../implementation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Implementation
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../challenges/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Challenges
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Future Work
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Future Work
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#create-a-json-parser" class="md-nav__link">
    <span class="md-ellipsis">
      Create a JSON parser
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#integrate-compass-sensor" class="md-nav__link">
    <span class="md-ellipsis">
      Integrate compass sensor
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../bill-of-materials/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Bill of Materials
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../map/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Map
    
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="future-work">Future Work<a class="headerlink" href="#future-work" title="Permanent link">&para;</a></h1>
<h2 id="create-a-json-parser">Create a JSON parser<a class="headerlink" href="#create-a-json-parser" title="Permanent link">&para;</a></h2>
<p>When the LaunchPad makes an HTTP GET request for user data or the nearest
Pokémon, the API handlers in our Express.JS server return a newline separated
payload. Rather than listing key-value pairs in a JSON format, our response only
returns the values with a newline delimiter. Although this makes it easier to
parse in C, it is not a robust solution. There is a lack of clarity for the
meaning of each line, considering that the key is not present. We implement
numerous heuristics in our parsing to verify validity of each transmission and
whether certain fields are present or absent, rather than adhering to a strict
grammar like JSON. As an example, our parsing logic depends on the order of each
line. Therefore, if we extend our APIs to return additional data in the payload,
we also have to change our C code to ensure that we are reading corresponding
data from the correct line. This contrasts JSON notation, where the keys are not
ordered, and values are instead interpreted according to the exact key they 
correspond to.</p>
<p>Although we initially began writing a JSON parser from scratch in C, we later
found it more important to concentrate our efforts on the goals we set during
our project proposal. Therefore, we converted our payloads from JSON notation to
a newline separated payload. In the future, we would like to create a JSON
parser so that we can return data in a stricter structure that can easily be
extended and correctly read with lower chance of bugs.</p>
<h2 id="integrate-compass-sensor">Integrate compass sensor<a class="headerlink" href="#integrate-compass-sensor" title="Permanent link">&para;</a></h2>
<p>One of our stretch goals was to use a peripheral compass sensor that would send
magnetic heading data to the LaunchPad. We would then use this compass to
determine the direction to the nearest Pokémon by calculating the vector from
the user’s GPS coordinates to the nearest Pokémon’s GPS coordinates, and then
calculating the angular offset from the direction that the LaunchPad is
pointing. Then, we would render an arrow in a virtual compass on the landing
page to direct the user in the direction toward the nearest Pokémon.</p>
<p>The day before our project verification day, we had finished all of our minimal
and target goals and also numerous of our stretch goals, so we attempted to try
implementing a Bosch BMM150 magnetometer to retrieve magnetic heading data.
However, we quickly found out that integrating a magnetometer without any
existing library code was a monumental challenge.</p>
<p>In particular, we discovered that each individual magnetometer needs to be
calibrated to account for its own imprecisions from its manufacturing, as well
as the particular magnetic field strengths as derived from the Earth’s field in
our particular geographic region. In particular, we noted that we needed to
perform two forms of calibration. A "hard iron calibration" is performed to
compensate for local disturbances in the regional magnetic field caused by
nearby objects such as small magnets. Then, a "soft iron calibration" is
performed to compensate for any inaccuracies in the relative strength of the
magnetic field along any of the euclidean axes when rotating the magnetometer
along any axis.</p>
<p>These calibrations are complicated and are usually performed with existing
calibration software, using better documented boards with existing libraries,
such as an Arduino or a Raspberry Pi. On the LaunchPad CC3200, we lacked any
code to assist us in performing magnetometer calibration. Thus, after
approximately four hours of attempting to perform temporary calibrations, we
decided to move on to abandoning the compass approach and instead polishing the
rest of the project. Without any calibration, the magnetometer would return
widely varying values depending both on its absolute location and rotation even
when moving the magnetometer around just inches at a time. Thus, the
magnetometer was impossible to use in an uncalibrated form.</p>
<p>It was after attempting the compass module that we then implemented one of our
other stretch goals, which was to implement a real-time web map of the Pokémon.
This provided similar functionality of guiding the user to the nearest Pokémon.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "..", "features": ["navigation.sections", "toc.integrate"], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.13a4f30d.min.js"></script>
      
        <script src="../javascripts/mathjax.js"></script>
      
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>